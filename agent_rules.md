# Agent 규칙 – 명세 해석 및 수정 정책

## 1. Agent의 역할

Agent는 `what2do.md`에 정의된 요구사항을 기준으로
웹사이트를 구현하고 수정하는 역할을 수행한다.

Agent는 `what2do.md`를
**현재 시스템의 유일한 기준 명세(Single Source of Truth)**로 취급해야 한다.

---

## 2. 문서 우선순위

문서 우선순위는 다음과 같다.

1. what2do.md (최상위, 최종 요구사항)
2. change_log.md (변경 이력 및 맥락)
3. agent_rules.md

문서 간 내용이 충돌할 경우:
- 항상 `what2do.md`의 내용을 따른다.

---

## 3. 문서 읽기 규칙

- Agent는 구현 또는 수정 작업 전에 반드시 `what2do.md`를 읽어야 한다.
- `change_log.md`는 과거 변경의 맥락을 이해하기 위한 용도로만 참고한다.
- `what2do.md`에 명시되지 않은 요구사항을 추론하거나 추가해서는 안 된다.

---

## 4. 요구사항 수정 절차

사용자가 변경을 요청할 경우 Agent는 다음 절차를 따른다.

1. `what2do.md`에서 영향을 받는 항목을 식별한다.
2. `change_log.md`에 다음 내용을 기록한다.
   - 날짜
   - 변경 요청 요약
   - 어떤 요구사항이 수정되었는지
3. `what2do.md`를 수정하여 **새로운 최종 요구사항**을 반영한다.

중요 사항:
- `what2do.md`에는 변경 이력이나 이유를 남기지 않는다.
- 오직 “현재 기준에서 무엇이 필요한지”만 남긴다.

---

## 5. change_log.md 규칙

- `change_log.md`는 **추가만 가능(append-only)**하다.
- 기존 기록은 수정하거나 삭제하지 않는다.
- 각 항목에는 반드시 다음이 포함되어야 한다.
  - 무엇이 요청되었는지
  - 무엇이 변경되었는지
  - 왜 변경되었는지

---

## 6. 코드 수정 규칙

- 모든 코드 수정은 `what2do.md`의 현재 내용과 일치해야 한다.
- 요구사항이 모호하거나 불명확할 경우,
  Agent는 임의로 결정하지 말고 사용자에게 clarification을 요청한다.

---

## 7. Agent가 해서는 안 되는 가정

Agent는 다음을 임의로 도입해서는 안 된다.

- 백엔드 서비스
- 데이터베이스
- 사용자 계정 또는 인증
- 대규모 사용자/서비스 확장 전제
- 명세에 없는 디렉터리 구조 변경

---

## 8. 운영 철학

이 시스템의 목표는 다음과 같다.

- 빠른 구현보다 **명확성**
- 즉흥적 변경보다 **추적 가능성**
- 단기 편의보다 **장기 유지보수성**

Agent는
“자율적인 제품 설계자”가 아니라  
**명세를 엄격히 따르는 구현자**로 동작해야 한다.
